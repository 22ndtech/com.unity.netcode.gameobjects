{% metadata_file .yamato/project.metafile %}
---
run_all_tests:
  name: Run All Package and Project Tests
  dependencies:
    - .yamato/_triggers.yml#badges_test_trigger
{% for platform in test_platforms -%}
{% for project in projects -%}
{% for editor in project.test_editors -%}
{% for package in project.packages -%}
    - .yamato/package-tests.yml#package_tests_{{ package.name }}_{{ project.name }}_{{ platform.name }}_{{ editor }}
{% endfor -%}
    - .yamato/project-tests.yml#project_tests_{{ project.name }}_{{ platform.name }}_{{ editor }}
{% for backend in scripting_backends -%}
    - .yamato/standalone-project-tests.yml#standalone_tests_{{ project.name }}_{{ backend }}_{{ editor }}_{{ platform.name }}
{% endfor -%}
{% endfor -%}
{% endfor -%}
{% endfor -%}
{% for project in projects -%}
{% for editor in project.test_editors -%}
    - .yamato/mobile-project-tests.yml#run_tests_{{ project.name }}_android_{{ editor }}
    - .yamato/mobile-project-tests.yml#run_tests_{{ project.name }}_iOS_{{ editor }}
{% endfor -%}
{% endfor -%}

all_project_tests:
  name: Run All Project Tests
  dependencies:
    - .yamato/_triggers.yml#badges_test_trigger
{% for platform in test_platforms -%}
{% for project in projects -%}
{% for editor in project.test_editors -%}
    - .yamato/project-tests.yml#project_tests_{{ projects.first.name }}_{{ platform.name }}_{{ editor }}
{% endfor -%}
{% endfor -%}
{% endfor -%}

all_package_tests:
  name: Run All Package Tests
  dependencies:
    - .yamato/_triggers.yml#badges_test_trigger
{% for platform in test_platforms -%}
{% for project in projects -%}
{% for editor in project.test_editors -%}
{% for package in project.packages -%}
    - .yamato/package-tests.yml#package_tests_{{ package.name }}_{{ project.name }}_{{ platform.name }}_{{ editor }}
{% endfor -%}
{% endfor -%}
{% endfor -%}
{% endfor -%}

all_singlenode_multiprocess_tests:
  name: Run All Multiprocess Tests - Single Node
  dependencies:
{% for platform in test_platforms -%}
{% for project in projects -%}
{% if project.name == "testproject" %}
{% for editor in project.test_editors -%}
{% if editor != "trunk" %}
    - .yamato/multiprocess-project-tests.yml#singlenode_multiprocess_tests_{{ project.name }}_{{ platform.name }}_{{ editor }}
{% endif %}
{% endfor -%}
{% endif %}
{% endfor -%}
{% endfor -%}

all_project_tests_standalone:
  name: Run All Project Tests - Standalone
  dependencies:
{% for platform in test_platforms -%}
{% for project in projects -%}
{% for editor in project.test_editors -%}
{% for backend in scripting_backends -%}
    - .yamato/standalone-project-tests.yml#standalone_tests_{{ project.name }}_{{ backend }}_{{ editor }}_{{ platform.name }}
{% endfor -%}
{% endfor -%}
{% endfor -%}
{% endfor -%}

all_project_tests_mobile:
  name: Run All Project Tests - Mobile
  dependencies:
{% for project in projects -%}
{% for editor in project.test_editors -%}
    - .yamato/mobile-project-tests.yml#run_tests_{{ project.name }}_android_{{ editor }}
    - .yamato/mobile-project-tests.yml#run_tests_{{ project.name }}_iOS_{{ editor }}
{% endfor -%}
{% endfor -%}

